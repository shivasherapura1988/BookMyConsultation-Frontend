{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shiva\\\\Downloads\\\\BookMyConsultationUIF\\\\BookMyConsultationUI\\\\src\\\\screens\\\\register\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport ErrorPopover from \"../../common/ErrorPopover\";\nimport { FormControl, InputLabel, Input, FormHelperText, Button } from \"@material-ui/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = ({\n  baseUrl,\n  loginUser\n}) => {\n  _s();\n\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [invalidEmailClass, setInvalidEmailClass] = useState(\"none\");\n  const [password, setPassword] = useState(\"\");\n  const [mobile, setMobile] = useState(\"\");\n  const [invalidMobileClass, setInvalidMobileClass] = useState(\"none\");\n  const [isRegistered, setIsRegistered] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const setParentAnchorElNull = () => {\n    setAnchorEl(null);\n  };\n\n  const changeFirstNameHandler = e => {\n    setFirstName(e.target.value);\n  };\n\n  const changeLastNameHandler = e => {\n    setLastName(e.target.value);\n  };\n\n  const changeEmailHandler = e => {\n    setEmail(e.target.value);\n    setInvalidEmailClass(\"none\");\n  };\n\n  const changeRegistrationPasswordHandler = e => {\n    setPassword(e.target.value);\n  };\n\n  const changeMobileHandler = e => {\n    setMobile(e.target.value);\n    setInvalidMobileClass(\"none\");\n  };\n\n  const registerHandler = async e => {\n    if (e) e.preventDefault(); // Validation\n\n    if (firstName === \"\") {\n      setAnchorEl(e.currentTarget.children[0]);\n      return;\n    }\n\n    if (lastName === \"\") {\n      setAnchorEl(e.currentTarget.children[3]);\n      return;\n    }\n\n    if (email === \"\") {\n      setAnchorEl(e.currentTarget.children[6]);\n      return;\n    }\n\n    if (password === \"\") {\n      setAnchorEl(e.currentTarget.children[9]);\n      return;\n    }\n\n    if (mobile === \"\") {\n      setAnchorEl(e.currentTarget.children[12]);\n      return;\n    }\n\n    const emailPattern = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@(([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\\\.,;:\\s@\"]{2,})$/i;\n    const mobilePattern = /^[6-9]\\d{9}$/i;\n\n    if (!email.match(emailPattern)) {\n      setInvalidEmailClass(\"block\");\n      return;\n    } else {\n      setInvalidEmailClass(\"none\");\n    }\n\n    if (!mobile.match(mobilePattern)) {\n      setInvalidMobileClass(\"block\");\n      return;\n    } else {\n      setInvalidMobileClass(\"none\");\n    }\n\n    let data = {\n      emailId: email,\n      firstName: firstName,\n      lastName: lastName,\n      mobile: mobile,\n      password: password\n    };\n    const url = baseUrl + \"users/register\";\n\n    try {\n      // debugger;\n      const rawResponse = await fetch(url, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json;charset=UTF-8\"\n        },\n        body: JSON.stringify(data)\n      });\n\n      if (rawResponse.ok) {\n        setIsRegistered(true);\n        loginUser(email, password);\n      }\n    } catch (e) {\n      alert(e.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: registerHandler,\n      autoComplete: \"off\",\n      noValidate: true,\n      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"firstname\",\n          children: \"First Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          id: \"firstname\",\n          onChange: changeFirstNameHandler,\n          value: firstName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorPopover, {\n          anchor: anchorEl,\n          setParentAnchorElNull: setParentAnchorElNull\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"lastname\",\n          children: \"Last Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          id: \"lastname\",\n          onChange: changeLastNameHandler,\n          value: lastName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorPopover, {\n          anchor: anchorEl,\n          setParentAnchorElNull: setParentAnchorElNull\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"email\",\n          children: \"Email Id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          id: \"email\",\n          type: \"email\",\n          onChange: changeEmailHandler,\n          value: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), email.length >= 1 && invalidEmailClass === \"block\" && /*#__PURE__*/_jsxDEV(FormHelperText, {\n          className: invalidEmailClass,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"red\",\n            children: \"Enter valid Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ErrorPopover, {\n          anchor: anchorEl,\n          setParentAnchorElNull: setParentAnchorElNull\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"registrationPassword\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          id: \"registrationPassword\",\n          onChange: changeRegistrationPasswordHandler,\n          value: password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorPopover, {\n          anchor: anchorEl,\n          setParentAnchorElNull: setParentAnchorElNull\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"mobile\",\n          children: \"Mobile No.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          id: \"mobile\",\n          onChange: changeMobileHandler,\n          value: mobile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), mobile.length >= 1 && invalidMobileClass === \"block\" && /*#__PURE__*/_jsxDEV(FormHelperText, {\n          className: invalidMobileClass,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"red\",\n            children: \"Enter valid mobile number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ErrorPopover, {\n          anchor: anchorEl,\n          setParentAnchorElNull: setParentAnchorElNull\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), isRegistered === true && /*#__PURE__*/_jsxDEV(FormControl, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Registration Successful.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        children: \"REGISTER\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"HSOi6e7Giai4EuQA7ioT5yW58LM=\");\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["C:/Users/Shiva/Downloads/BookMyConsultationUIF/BookMyConsultationUI/src/screens/register/Register.js"],"names":["React","useState","ErrorPopover","FormControl","InputLabel","Input","FormHelperText","Button","Register","baseUrl","loginUser","firstName","setFirstName","lastName","setLastName","email","setEmail","invalidEmailClass","setInvalidEmailClass","password","setPassword","mobile","setMobile","invalidMobileClass","setInvalidMobileClass","isRegistered","setIsRegistered","anchorEl","setAnchorEl","setParentAnchorElNull","changeFirstNameHandler","e","target","value","changeLastNameHandler","changeEmailHandler","changeRegistrationPasswordHandler","changeMobileHandler","registerHandler","preventDefault","currentTarget","children","emailPattern","mobilePattern","match","data","emailId","url","rawResponse","fetch","method","headers","Accept","body","JSON","stringify","ok","alert","message","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport ErrorPopover from \"../../common/ErrorPopover\";\r\nimport {\r\n  FormControl,\r\n  InputLabel,\r\n  Input,\r\n  FormHelperText,\r\n  Button,\r\n} from \"@material-ui/core\";\r\n\r\nconst Register = ({ baseUrl, loginUser }) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [invalidEmailClass, setInvalidEmailClass] = useState(\"none\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [mobile, setMobile] = useState(\"\");\r\n  const [invalidMobileClass, setInvalidMobileClass] = useState(\"none\");\r\n  const [isRegistered, setIsRegistered] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const setParentAnchorElNull = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const changeFirstNameHandler = (e) => {\r\n    setFirstName(e.target.value);\r\n  };\r\n  const changeLastNameHandler = (e) => {\r\n    setLastName(e.target.value);\r\n  };\r\n  const changeEmailHandler = (e) => {\r\n    setEmail(e.target.value);\r\n    setInvalidEmailClass(\"none\");\r\n  };\r\n\r\n  const changeRegistrationPasswordHandler = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  const changeMobileHandler = (e) => {\r\n    setMobile(e.target.value);\r\n    setInvalidMobileClass(\"none\");\r\n  };\r\n\r\n  const registerHandler = async (e) => {\r\n    if (e) e.preventDefault();\r\n\r\n    // Validation\r\n    if (firstName === \"\") {\r\n      setAnchorEl(e.currentTarget.children[0]);\r\n      return;\r\n    }\r\n    if (lastName === \"\") {\r\n      setAnchorEl(e.currentTarget.children[3]);\r\n      return;\r\n    }\r\n    if (email === \"\") {\r\n      setAnchorEl(e.currentTarget.children[6]);\r\n      return;\r\n    }\r\n    if (password === \"\") {\r\n      setAnchorEl(e.currentTarget.children[9]);\r\n      return;\r\n    }\r\n    if (mobile === \"\") {\r\n      setAnchorEl(e.currentTarget.children[12]);\r\n      return;\r\n    }\r\n\r\n    const emailPattern =\r\n      /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@(([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\\\.,;:\\s@\"]{2,})$/i;\r\n\r\n    const mobilePattern = /^[6-9]\\d{9}$/i;\r\n\r\n    if (!email.match(emailPattern)) {\r\n      setInvalidEmailClass(\"block\");\r\n      return;\r\n    } else {\r\n      setInvalidEmailClass(\"none\");\r\n    }\r\n\r\n    if (!mobile.match(mobilePattern)) {\r\n      setInvalidMobileClass(\"block\");\r\n      return;\r\n    } else {\r\n      setInvalidMobileClass(\"none\");\r\n    }\r\n\r\n    let data = {\r\n      emailId: email,\r\n      firstName: firstName,\r\n      lastName: lastName,\r\n      mobile: mobile,\r\n      password: password,\r\n    };\r\n\r\n    const url = baseUrl + \"users/register\";\r\n    try {\r\n      // debugger;\r\n      const rawResponse = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n\r\n      if (rawResponse.ok) {\r\n        setIsRegistered(true);\r\n        loginUser(email, password);\r\n      }\r\n    } catch (e) {\r\n      alert(e.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={registerHandler} autoComplete=\"off\" noValidate>\r\n        <FormControl required>\r\n          <InputLabel htmlFor=\"firstname\">First Name</InputLabel>\r\n          <Input\r\n            type=\"text\"\r\n            id=\"firstname\"\r\n            onChange={changeFirstNameHandler}\r\n            value={firstName}\r\n          />\r\n          <ErrorPopover\r\n            anchor={anchorEl}\r\n            setParentAnchorElNull={setParentAnchorElNull}\r\n          />\r\n        </FormControl>\r\n        <br />\r\n        <br />\r\n\r\n        <FormControl required>\r\n          <InputLabel htmlFor=\"lastname\">Last Name</InputLabel>\r\n          <Input\r\n            type=\"text\"\r\n            id=\"lastname\"\r\n            onChange={changeLastNameHandler}\r\n            value={lastName}\r\n          />\r\n          <ErrorPopover\r\n            anchor={anchorEl}\r\n            setParentAnchorElNull={setParentAnchorElNull}\r\n          />\r\n        </FormControl>\r\n        <br />\r\n        <br />\r\n\r\n        <FormControl required>\r\n          <InputLabel htmlFor=\"email\">Email Id</InputLabel>\r\n          <Input\r\n            id=\"email\"\r\n            type=\"email\"\r\n            onChange={changeEmailHandler}\r\n            value={email}\r\n          />\r\n          {email.length >= 1 && invalidEmailClass === \"block\" && (\r\n            <FormHelperText className={invalidEmailClass}>\r\n              <span className=\"red\">Enter valid Email</span>\r\n            </FormHelperText>\r\n          )}\r\n          <ErrorPopover\r\n            anchor={anchorEl}\r\n            setParentAnchorElNull={setParentAnchorElNull}\r\n          />\r\n        </FormControl>\r\n        <br />\r\n        <br />\r\n\r\n        <FormControl required>\r\n          <InputLabel htmlFor=\"registrationPassword\">Password</InputLabel>\r\n          <Input\r\n            type=\"password\"\r\n            id=\"registrationPassword\"\r\n            onChange={changeRegistrationPasswordHandler}\r\n            value={password}\r\n          />\r\n          <ErrorPopover\r\n            anchor={anchorEl}\r\n            setParentAnchorElNull={setParentAnchorElNull}\r\n          />\r\n        </FormControl>\r\n        <br />\r\n        <br />\r\n\r\n        <FormControl required>\r\n          <InputLabel htmlFor=\"mobile\">Mobile No.</InputLabel>\r\n          <Input id=\"mobile\" onChange={changeMobileHandler} value={mobile} />\r\n          {mobile.length >= 1 && invalidMobileClass === \"block\" && (\r\n            <FormHelperText className={invalidMobileClass}>\r\n              <span className=\"red\">Enter valid mobile number</span>\r\n            </FormHelperText>\r\n          )}\r\n          <ErrorPopover\r\n            anchor={anchorEl}\r\n            setParentAnchorElNull={setParentAnchorElNull}\r\n          />\r\n        </FormControl>\r\n        <br />\r\n        <br />\r\n        {isRegistered === true && (\r\n          <FormControl>\r\n            <span>Registration Successful.</span>\r\n          </FormControl>\r\n        )}\r\n        <br />\r\n        <Button variant=\"contained\" color=\"primary\" type=\"submit\">\r\n          REGISTER\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}